<h1>Rediger Artikkel</h1>
<div class="container">
    <form action="/articles/{{article._id}}?_method=PUT" method="POST" class="col s12">
        <div class="form-group">
            <label for="title">Tittel</label>
            <input type="text" id="title" name="title" class="white-input" value="{{article.title}}" required>
        </div>
        <div class="form-group">
            <label for="category">Kategori</label>
            <select id="category" name="category" class="white-input" required>
                <option value="" disabled selected>Vennligst velg en kategori</option>
                <option value="Tech">Teknologi</option>
                <option value="Science">Vitenskap</option>
                <option value="Health">Kultur</option>
                <option value="Lifestyle">Helse</option>
                <option value="Entertainment">Underholdning</option>
            </select>
        </div>
        <div class="form-group">
            <label for="summary">Sammendrag</label>
            <textarea id="summary" name="summary" class="white-input" required>{{article.summary}}</textarea>
        </div>
        <div class="form-group">
            <label for="content">Innhold</label>
            <textarea id="content" name="content" class="white-input" required>{{article.content}}</textarea>
        </div>
        <div class="form-group switch">
            <label>
                Privat
                <input type="checkbox" id="status" name="status" {{#if (eq article.status 'public')}}checked{{/if}}>
                <span class="lever"></span>
                Offentlig
            </label>
        </div>
        <button type="submit" class="btn">Lagre artikkel</button>
        <a href="/dashboard" class="btn green">Avbryt</a>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var statusCheckbox = document.getElementById('status');
        statusCheckbox.checked ? statusCheckbox.value = 'public' : statusCheckbox.value = 'private';
        
        statusCheckbox.addEventListener('change', function() {
            this.checked ? this.value = 'public' : this.value = 'private';
        });
    });
</script>
